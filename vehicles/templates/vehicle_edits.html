{% extends 'page.html' %}

{% block title %}Vehicle edits â€“ bustimes.org{% endblock %}

{% block head %}
    <link rel="stylesheet" href="/liveries.{{ liveries_css_version }}.css">
{% endblock %}

{% block bodyclass %}{% endblock %}

{% block content %}

<ul class="tabs">
    <li><a href="/vehicles/history">Recent changes</a></li>
    <li>Pending vehicle edits</li>
</ul>

<h1>Pending vehicle edits</h1>

<div class="sidebar">
    <form>
        {{ filter.form.as_p }}

        <p><input type="submit" value="Search"></p>
    </form>
</div>

{% if user.is_staff %}
    <form id="edits" method="POST">

    <p>
        <input type="submit" name="action" value="apply">
        <input type="submit" name="action" value="approve">
        <input type="submit" name="action" value="disapprove">
    </p>
{% endif %}

<div class="table-wrapper">
    {% include 'vehicle_edits_table.html' %}
</div>

{% if user.is_staff %}
    <p>
        <input type="submit" name="action" value="apply">
        <input type="submit" name="action" value="approve">
        <input type="submit" name="action" value="disapprove">
    </p>

    </form>
{% endif %}

{% if edits.has_other_pages %}
    <nav>
        <ul class="horizontal">
            {% if edits.has_previous %}
                <li><a href="?{% if parameters %}{{ parameters }}&amp;{% endif %}">1</a></li>
                {% if edits.previous_page_number > 1 %}
                    {% if edits.previous_page_number > 2 %}
                        <li>&hellip;</li>
                    {% endif %}
                    <li><a href="?{% if parameters %}{{ parameters }}&amp;{% endif %}page={{ edits.previous_page_number }}">{{ edits.previous_page_number }}</a></li>
                {% endif %}
            {% endif %}

            <li>{{ edits.number }}</li>

            {% if edits.has_next %}
                {% if edits.next_page_number < edits.paginator.num_pages %}
                    <li><a href="?{% if parameters %}{{ parameters }}&amp;{% endif %}page={{ edits.next_page_number }}">{{ edits.next_page_number }}</a></li>
                    <li>&hellip;</li>
                {% endif %}
                <li><a href="?{% if parameters %}{{ parameters }}&amp;{% endif %}page={{ edits.paginator.num_pages }}">{{ edits.paginator.num_pages }}</a></li>
            {% endif %}
        </ul>
    </nav>
{% endif %}

{% endblock %}

{% block ad %}{% endblock %}

{% block foot %}

{% load static %}
<script async src="{% static 'js/edit-vehicles.js' %}"></script>

{% endblock %}
